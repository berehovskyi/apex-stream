# DoubleStream

`APIVERSION: 55`

`STATUS: ACTIVE`

A sequence of `Double` elements supporting aggregate operations, a primitive specialization of [ObjectStream](/docs/Iterables/ObjectStream.md).


**See** [DoubleSequence](/docs/Iterables/DoubleSequence.md)


**See** [SObjectStream](/docs/Iterables/SObjectStream.md)


**See** [ObjectStream](/docs/Iterables/ObjectStream.md)


**See** [IntStream](/docs/Iterables/IntStream.md)


**See** [LongStream](/docs/Iterables/LongStream.md)


**Author** Oleh Berehovskyi


**Group** Iterables

## Properties

### `isOperated` â†’ `Boolean`


A flag defining whether this stream has been linked or consumed.

---
## Methods
### Other
##### `iterator()`

Returns an internal iterator for the elements of this stream. <p>Terminal Operation.</p>

###### Return

**Type**

Iterator<Double>

**Description**

the internal `Iterator<Double>`

###### Throws
|Exception|Description|
|---|---|
|`IllegalArgumentException`|if this stream has been operated (linked or consumed)|

---
### Conversion Operations
##### `toObjectIterable()`

Returns an `ObjectStream` consisting of the elements of this stream, converted to Object.

###### Return

**Type**

IObjectIterable

**Description**

the `ObjectStream`

---
### Sources
##### `static of(Iterator<Double> iterator)`

Returns a `DoubleStream` created from `iterator`.

###### Parameters
|Param|Description|
|---|---|
|`iterator`|the iterator|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `iterator` is null|

###### Example
```apex
IDoubleIterable doubleStream = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI }.iterator());
IDoubleIterable doubleStream = DoubleStream.of(new Set<Double>{ 0.1, 5, 1.5, Math.PI }.iterator());
IDoubleIterable doubleStream = DoubleStream.of(otherStream.iterator());
```

##### `static of(Iterable<Double> doubles)`

Returns a `DoubleStream` created from `doubles`.

###### Parameters
|Param|Description|
|---|---|
|`doubles`|the iterable|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `doubles` is null|

###### Example
```apex
IDoubleIterable doubleStream = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI });
IDoubleIterable doubleStream = DoubleStream.of((Iterable<Double>) new Set<Double>{ 0.1, 5, 1.5, Math.PI });
```

##### `static ofNullable(Iterable<Double> doubles)`

Returns a `DoubleStream` created from `doubles` if non-null, otherwise returns an empty `DoubleStream`.

###### Parameters
|Param|Description|
|---|---|
|`doubles`|the iterable|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream` if `doubles` is non-null, otherwise an empty `DoubleStream`

###### Example
```apex
IDoubleIterable doubleStream = DoubleStream.ofNullable(new List<Double>{ 0.1, 5, 1.5, Math.PI });
```

##### `static empty()`

Returns an empty `DoubleStream`.

###### Return

**Type**

IDoubleIterable

**Description**

the empty `DoubleStream`

##### `static generate(IDoubleSupplier supplier)`

Returns an infinite `DoubleStream` where each element is generated by `supplier`.

###### Parameters
|Param|Description|
|---|---|
|`supplier`|the supplier of generated elements|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `supplier` is null|

###### Example
```apex
IDoubleIterable randomStream = DoubleStream.generate(DoubleSupplier.random());
```

##### `static iterate(Double seed, IDoubleUnaryOperator operator)`

Returns an infinite `DoubleStream` produced by iterative application of `operator` to an initial element `seed`, producing a `DoubleStream` consisting of `seed`, `operator(seed)`, `operator(operator(seed))`, etc.

###### Parameters
|Param|Description|
|---|---|
|`seed`|the initial element|
|`operator`|the operator to be applied to the previous element to produce a new element|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `supplier` is null|

###### Example
```apex
IDoubleIterable doubleIncrementalStream = DoubleStream.iterate(0, DoubleUnaryOperators.add(1));
```

##### `static iterate(Double seed, IDoublePredicate predicate, IDoubleUnaryOperator operator)`

Returns an infinite `DoubleStream` produced by iterative application of `operator` to an initial element `seed`, conditioned on satisfying `predicate`.

###### Parameters
|Param|Description|
|---|---|
|`seed`|the initial element|
|`predicate`|the predicate to determine when the stream must be terminated|
|`operator`|the operator to be applied to the previous element to produce a new element|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `supplier` or `supplier` is null|

##### `static concat(Iterable<Double> iterable1, Iterable<Double> iterable2)`

Returns lazily concatenated `DoubleStream` whose elements are all the elements of the first `Iterable<Double>` followed by all the elements of the second `Iterable<Double>`.

###### Parameters
|Param|Description|
|---|---|
|`iterable1`|the first `Iterable<Double>`|
|`iterable2`|the second `Iterable<Double>`|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `iterable1` or `iterable2` is null|

###### Example
```apex
IDoubleIterable doubleStream = DoubleStream.concat(stream1, stream2);
```

##### `static concat(List<Iterable<Double>> iterables)`

Returns lazily concatenated `List<Iterable<Double>>`.

###### Parameters
|Param|Description|
|---|---|
|`iterables`|the list of `Iterable<Double>`|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `iterables` or some element in a list is null|

###### Example
```apex
IDoubleIterable doubleStream = DoubleStream.concat(streams);
```

##### `static zip(Iterable<Double> iterable1, Iterable<Double> iterable2, IDoubleBinaryOperator combiner)`

Returns a combined `DoubleStream` by applying `combiner` function to each element at the same position.

###### Parameters
|Param|Description|
|---|---|
|`iterable1`|the first `Iterable<Double>`|
|`iterable2`|the second `Iterable<Double>`|
|`combiner`|the binary operator to be applied to each element at the same position|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `iterable1`, `iterable2` or `combiner` is null|

##### `override append(Iterable<Double> iterable)`

Returns new `DoubleStream` by appending `iterable` to the current stream.

###### Parameters
|Param|Description|
|---|---|
|`iterable`|the `Iterable<Double>` to append to the current stream|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `iterable` is null|

###### Example
```apex
IDoubleIterable doubleStream = stream1.append(stream2);
```

##### `prepend(Iterable<Double> iterable)`

Returns new `DoubleStream` by prepending `iterable` to the current stream.

###### Parameters
|Param|Description|
|---|---|
|`iterable`|the `Iterable<Double>` to prepend to the current stream|

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `iterable` is null|

###### Example
```apex
IDoubleIterable doubleStream = stream1.prepend(stream2);
```

---
### Intermediate Operations
##### `sequence()`

Returns new `DoubleSequence` from the current stream. <p>Stateful Intermediate Operation.</p>

###### Return

**Type**

IDoubleIterable

**Description**

the new `DoubleSequence`

###### Example
```apex
IDoubleIterable doubleSeq = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI }).sequence();
```

##### `override filter(IDoublePredicate predicate)`

Returns a `DoubleStream` with elements that match `predicate`. <p>Stateless Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`predicate`|the non-interfering, stateless predicate|

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `predicate` is null|

###### Example
```apex
List<Double> filtered = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .filter(DoublePredicates.isGreater(0))
    .toList();
```

##### `take(IDoublePredicate predicate)`

Returns a `DoubleStream` which takes elements while elements match `predicate`. <p>Short-circuiting Stateful Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`predicate`|the non-interfering, stateless predicate|

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `predicate` is null|

###### Example
```apex
List<Double> firstFiltered = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .take(DoublePredicates.isGreater(0))
    .toList();
```

##### `drop(IDoublePredicate predicate)`

Returns a `DoubleStream` which drops elements while elements match `predicate`, then takes the rest. <p>Stateful Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`predicate`|the non-interfering, stateless predicate|

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `predicate` is null|

###### Example
```apex
List<Double> rest = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .drop(DoublePredicates.isGreater(0))
    .toList();
```

##### `mapTo(IDoubleUnaryOperator mapper)`

Returns a `DoubleStream` with elements returned by `mapper` function, applied to the elements of this stream. <p>Stateless Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`mapper`|the non-interfering, stateless operator|

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `mapper` is null|

###### Example
```apex
List<Double> incrementedDoubles = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .mapTo(DoubleUnaryOperators.add(1.5))
    .toList();
```

##### `mapToInt(IDoubleToIntFunction mapper)`

Returns a `IntStream` with elements returned by `mapper` function, applied to the elements of this stream. <p>Stateless Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`mapper`|the non-interfering, stateless operator|

###### Return

**Type**

IIntIterable

**Description**

the `IntStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `mapper` is null|

##### `mapToLong(IDoubleToLongFunction mapper)`

Returns a `LongStream` with elements returned by `mapper` function, applied to the elements of this stream. <p>Stateless Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`mapper`|the non-interfering, stateless operator|

###### Return

**Type**

ILongIterable

**Description**

the `LongStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `mapper` is null|

##### `mapToSObject(IDoubleToSObjectFunction mapper)`

Returns a `SObjectStream` with elements returned by `mapper` function, applied to the elements of this stream. <p>Stateless Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`mapper`|the non-interfering, stateless operator|

###### Return

**Type**

ISObjectIterable

**Description**

the `SObjectStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `mapper` is null|

##### `mapToObject(IDoubleFunction mapper)`

Returns a `ObjectStream` with elements returned by `mapper` function, applied to the elements of this stream. <p>Stateless Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`mapper`|the non-interfering, stateless operator|

###### Return

**Type**

IObjectIterable

**Description**

the `ObjectStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `mapper` is null|

##### `forEach(IDoubleConsumer consumer)`

Returns a `DoubleStream` after performing `consumer` action on each element. <p>Stateless Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`consumer`|the non-interfering, stateless action to be performed on each element. Expected to operate via side effects.|

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `consumer` is null|

##### `override distinct()`

Returns a `DoubleStream` with distinct elements. <p>Stateful Intermediate Operation.</p>

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Example
```apex
List<Double> distinct = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .distinct()
    .toList();
```

##### `sort()`

Returns a `DoubleStream` with sorted elements in ascending order. <p>Stateful Intermediate Operation.</p>

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Example
```apex
List<Double> sorted = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .sort()
    .toList();
```

##### `lim(Integer lim)`

Returns a `DoubleStream` with first `lim` elements. <p>Short-circuiting Stateful Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`lim`|the number of elements to limit|

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`IllegalStateException`|if `lim` is less than 0|
|`NullPointerException`|if `lim` is null|

###### Example
```apex
List<Double> first3Doubles = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .lim(3)
    .toList();
```

##### `skip(Integer n)`

Returns a new `DoubleStream` that skips first `n` elements and returns remaining elements. <p>Stateful Intermediate Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`n`|the number of elements to skip|

###### Return

**Type**

IDoubleIterable

**Description**

the `DoubleStream`

###### Throws
|Exception|Description|
|---|---|
|`IllegalStateException`|if `n` is less than 0|
|`NullPointerException`|if `n` is null|

###### Example
```apex
List<Double> restDoubles = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .skip(1)
    .toList();
```

---
### Terminal Operations
##### `reduce(Double identity, IDoubleBinaryOperator accumulator)`

Performs a reduction on `Double` elements, using `identity` value and an associative `accumulator` function, and returns the reduced value. <p>Terminal Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`identity`|the identity value for `accumulator`|
|`accumulator`|the associative, non-interfering, stateless accumulation function|

###### Return

**Type**

Double

**Description**

the `Double` result of the reduction

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `accumulator` is null|

###### Example
```apex
Double naiveSum = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .reduce((Double) 0.0, DoubleBinaryOperators.sum());
```

##### `override reduce(IDoubleBinaryOperator accumulator)`

Performs a reduction on `Double` elements, using `identity` value and associative `accumulator` function, and returns an `OptionalDouble` describing the reduced value. <p>Terminal Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`accumulator`|the associative, non-interfering, stateless accumulation function|

###### Return

**Type**

OptionalDouble

**Description**

the `OptionalDouble` result of the reduction

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `accumulator` is null|

###### Example
```apex
Double naiveSum = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
     .reduce(DoubleBinaryOperators.sum())
     .get();
```

##### `override collect(ISupplier supplier, IObjectDoubleConsumer accumulator)`

Performs a mutable reduction operation on elements, collecting elements to a container returned by `supplier` by applying `accumulator` function. <p>Terminal Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`supplier`|the function that returns a mutable result container|
|`accumulator`|the associative, non-interfering, stateless accumulation function|

###### Return

**Type**

Object

**Description**

the `Object` result of the collection

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `supplier` or `accumulator` is null|

##### `find(IDoublePredicate predicate)`

Returns an `OptionalDouble` describing the first element that matches `predicate`. <p>Short-circuiting Terminal Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`predicate`|the predicate|

###### Return

**Type**

OptionalDouble

**Description**

the `OptionalDouble`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `predicate` is null|

###### Example
```apex
Double firstGreaterDouble = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .find(DoublePredicates.isGreater(1.5))
    .get();
```

##### `every(IDoublePredicate predicate)`

Returns whether all elements match `predicate`. If `DoubleStream` is empty then `false` is returned. <p>Short-circuiting Terminal Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`predicate`|the predicate|

###### Return

**Type**

Boolean

**Description**

`true` or `false`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `predicate` is null|

###### Example
```apex
Boolean isEveryDoubleGreater = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .every(DoublePredicates.isGreater(1.5))
    .get();
```

##### `override some(IDoublePredicate predicate)`

Returns whether some element matches `predicate`. If `DoubleStream` is empty then `false` is returned. <p>Short-circuiting Terminal Operation.</p>

###### Parameters
|Param|Description|
|---|---|
|`predicate`|the predicate|

###### Return

**Type**

Boolean

**Description**

`true` or `false`

###### Throws
|Exception|Description|
|---|---|
|`NullPointerException`|if `predicate` is null|

###### Example
```apex
Boolean isSomeDoubleGreater = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .some(DoublePredicates.isGreater(1.5))
    .get();
```

##### `count()`

Returns the count of elements. <p>Terminal Operation.</p>

###### Return

**Type**

Integer

**Description**

the count of elements

##### `isEmpty()`

Returns whether the count of elements is 0. <p>Terminal Operation.</p>

###### Return

**Type**

Boolean

**Description**

`true` or `false`

##### `toList()`

Accumulates elements into a `List<Double>`. <p>Terminal Operation.</p>

###### Return

**Type**

List<Double>

**Description**

the `List<Double>` containing the stream elements

###### Example
```apex
List<Double> restDoubles = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .skip(1)
    .toList();
```

##### `toSet()`

Accumulates elements into a `Set<Double>`. <p>Terminal Operation.</p>

###### Return

**Type**

Set<Double>

**Description**

the `Set<Double>` containing the stream elements

###### Example
```apex
Set<Double> restDoubles = DoubleStream.of(new List<Double>{ 0.1, 5, 1.5, Math.PI })
    .skip(1)
    .toSett();
```

---
